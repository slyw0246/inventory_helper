<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Campus Trees</title>
    <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no">
    <link rel="icon" type="x-icon" href="maple_tree.jpg"> 
    <link href="https://api.mapbox.com/mapbox-gl-js/v3.17.0-beta.1/mapbox-gl.css" rel="stylesheet">
    <script src="https://api.mapbox.com/mapbox-gl-js/v3.17.0-beta.1/mapbox-gl.js"></script>
    <!-- website icon found in this website: https://www.pngegg.com/en/search?q=paper+Map#google_vignette -->
    <style>
        body { 
            margin: 0; /*no space around div*/
            padding: 0; /*no space inside div*/
            display: flex; /*flexbox for organizing the webiste*/
            flex-direction: column; /*column direction flex*/
            background-color: #FEF9F2; /*background color of the website*/
        }
        
        .navbar {
            background-color: #b6d898; /* Background color for navbar */
            overflow: hidden;
            display: flex; /* Use flexbox for layout */
            padding-left: 10px;
            align-items: center; /* Vertically center items */
            justify-content: space-between; /* align everythingt to the left*/
            padding: 10px 20px; /* Add padding for aesthetics */
            padding-right: 70px;
            font: 0.8rem "verdana", sans-serif; /* Font settings */
            gap: 20px; /* Add some space between the header and the buttons */
        }

        .navbar h1 {
            font-size: 1.2rem; /* Larger font for header */
            color: black; /* Text color for header */
            margin: 0; /* Remove default margin */
            margin-left: 20px;
        }

        .nav-links {
            list-style: none; /* Remove bullet points */
            margin: 0; /* Remove default margin */
            padding: 0; /* Remove default padding */
            display: flex; /* Use flexbox for horizontal layout */
            align-items: center; /* Vertically center the buttons */
            gap: 20px; /* Add space between buttons */
        }

        .nav-links li {
            padding-top: 0; /* Remove padding to vertically center in the nav bar */
        }

        .nav-links a {
            color: black; /* Link color */
            text-decoration: none; /* Remove underline */
            font-size: 0.8rem; /* Font size for links */
            padding: 10px 15px; /* Increase padding for bigger clickable area */
            background-color: #eaf4cf; /* Background color for links */
            /*border: 2px solid #4e5965; /* Border color and thickness for the frame */
            border-radius: 5px; /* Rounded corners */
            transition: background-color 0.3s ease; /* Smooth hover effect */
            display: inline-block; /* Ensure padding applies evenly around text */
            width: 120px;
            text-align: center;
        }

        .nav-links a:hover {
            background-color:  #ffffe9; /* Background color on hover */
        }

        /* New styles for responsiveness */
        
        

        #title {
            /*font: small-caps bold 1.8rem "verdana", sans-serif; /*set a font*/
            font: bold 1.7rem "verdana", sans-serif;
            text-align: center; /*center the title for aesthetics*/
            background-color: #f0eeb3; /*background color of title box*/
            padding: 20px; /*add padding and margin for aesthetics*/
            margin: 10px;
            border-radius: 10px;
        }

        /* add a menu for toggle*/
         #menu {  
        background: #F5E8E9; /*set the base color of toggle buttons when it's not active*/
        position: absolute;
        z-index: 5; /*position toggle above map*/
        top: 170px; /* make sure that it is below the nav bar and title*/
        right: 10px; /*distance to the right border*/
        border-radius: 3px; /*make angle round*/
        width: 120px;
        border: 1px solid rgba(0, 0, 0, 0.4);
        font-family: "courier", monospace; /*match the font to tracking page*/
        }

    @media (min-width:320px) and (max-width:600px){
        #menu {
            top: 250px; /*one a phone, position toggle below title*/
        }
    }

        #menu a {
            font-size: 13px; /*font size of names*/
            color: #404040; /*color of words*/
            display: block;
            margin: 0;
            padding: 0;
            padding: 10px;
            text-decoration: none;
            border-bottom: 1px solid rgba(0, 0, 0, 0.25);
            text-align: center;
        }

        #menu a:last-child {
            border: none;
        }

         #menu a:hover { /* make sure that when you hover it changes color for clarity */
            background-color: #f8f8f8; /* hover background color when it's not active*/
            color: #404040; /*color of words*/
        }

        #menu a.active { /* new color for when it is toggled on */
            background-color: #F8798D; /*background when it's active*/
            color: #ffffff;
        }

        #menu a.active:hover { /* new color for toggled on and hovered on */
            background: #F894A3; /*hover background when it's active*/
            color: #ffffff;
        }
        #map { 
            width: 95%; /*width of the map takes up 95% of the page*/
            height: 730px; /*set the height of the page to a reasonable value*/
            align-self: center; /*center the map*/
            border-radius: 5px; /*make the border angle round*/
            position: relative; /*relative position to apply z-index*/
            z-index: 1; /*Move the map behind toggle bars*/
        } 

    </style>
</head>
<body>
    <nav class="navbar">
        <h1>McGill Tree Guide </h1>
        <ul class="nav-links">
            <li><a href="">Species List</a></li>
            <li><a href="">Soil Collection</a></li>
            <li><a href="">Historical Ecology</a></li>
        </ul>
    </nav>
    <h1 id="title">Tree Inventory Helper</h1>
    <h1>Enter your requirement</h1>
    <input id="input" type="text" placeholder="Text">
    <button onclick="storeInput()">Submit</button>
    <div id="map"></div>
<script>
    var userInput = document.getElementById("input").value;
    function storeInput() {
        var userInput = document.getElementById("input").value;
        console.log(userInput);
    }

    mapboxgl.accessToken = 'pk.eyJ1Ijoic2x5dzAyNDYiLCJhIjoiY20wdjhvNGtvMWg1ZTJpcTVuc3E0NXp5YyJ9.WMIP4DPHgpFwrqKGTEf0FA'

    const map = new mapboxgl.Map({
        container: 'map', // container ID
        style: 'mapbox://styles/slyw0246/cm1l31w4s006z01pdetjp1gjt', // set style for the map mapbox://styles/mapbox/streets-v12 (older style)
        center: [-73.57598, 45.50411], // starting position [lng, lat]. Note that lat must be set between -90 and 90
        zoom: 15 // starting zoom
    }); 

    map.on('load', function() { 
        //the url (name) of the .json file - must be in same folder as the 
        //add a source 
        map.addSource('McgillTrees', { 
            type: 'geojson', 
            data: 'tree_mcgill_shp1.geojson'}); 
        // add map layer using 'ShirleyData' as source
        map.addLayer({ 
            id: "trees", // create id for later use in animation, toggle, and popup functions
            type: "circle", 
            source: "McgillTrees",
            layout: {
                // Make the layer visible by default.
                'visibility': 'visible'
            },
            // add color and width to the line
            paint: {
                'circle-radius': 5, // make the line more visible
                'circle-color': 'pink', 
                //'line-opacity': 0.4 // opacity for dash line animation
            } // from mapbox website code about loading geojson in mapbox
        });}
        // add map layer for dash line animation
    )

    map.on('click', 'trees', (e) => {
        new mapboxgl.Popup() // call a built in function mapboxgl.Popup()
            .setLngLat(e.features[0].geometry.coordinates.slice()) // get the coordinate of e
            .setHTML(e.features[0].properties.nomsc) // set the HTML of the popup as the description in geoJSON of the layer
            .addTo(map); // add the popup to map
    });

    map.on('mouseenter', 'trees', () => {
        map.getCanvas().style.cursor = 'pointer'; // built in function to change the cursor to a pointer
    });

    // Change it back to a normal curosr when it leaves the feature
    map.on('mouseleave', 'trees', () => {
        map.getCanvas().style.cursor = ''; // built in function to change the cursor back to normal
    });

</script>
</body>